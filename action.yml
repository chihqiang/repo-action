name: "Repo Mirror Admin"
description: "Built on GitHub Actions, the repo on a journey â€” code sails across, assets in tow ğŸš€"
author: "zhiqiang <zhiqiang2033@gmail.com>"

inputs:
  # ===== SOURCE REPO PARAMS =====
  REPO:
    description: "SOURCE repo URL ğŸŒ± (default: current repo)"
    required: false

  USERNAME:
    description: "Operator account for the SOURCE repo ğŸ‘¤"
    required: false
  PASSWORD:
    description: "Secret code for the SOURCE repo ğŸ”‘ (optional)"
    required: false
  TOKEN:
    description: "Universal access token for the SOURCE repo ğŸ›‚"
    required: false

  # ===== TARGET REPO PARAMS =====
  TARGET_REPO:
    description: "TARGET repo URL ğŸ¯ (default: current repo)"
    required: false

  TARGET_USERNAME:
    description: "Operator account for the TARGET repo ğŸ‘¤"
    required: false
  TARGET_PASSWORD:
    description: "Secret code for the TARGET repo ğŸ”‘ (optional)"
    required: false
  TARGET_TOKEN:
    description: "Universal access token for the TARGET repo ğŸ›‚"
    required: false

  # ===== EXTRAS =====
  TAGS:
    description: "Tag list to sync ğŸ·ï¸ (comma-separated)"
    required: false
  FILES:
    description: "Files to travel along with the code ğŸ“¦"
    required: false

runs:
  using: "docker"
  image: "Dockerfile"
  args:
    - ${{ inputs.REPO }}
    - ${{ inputs.USERNAME }}
    - ${{ inputs.PASSWORD }}
    - ${{ inputs.TOKEN }}
    - ${{ inputs.TARGET_REPO }}
    - ${{ inputs.TARGET_USERNAME }}
    - ${{ inputs.TARGET_PASSWORD }}
    - ${{ inputs.TARGET_TOKEN }}
    - ${{ inputs.TAGS }}
    - ${{ inputs.FILES }}

branding:
  icon: "package"
  color: "blue"
